# Multiple Next eXtension (MulNX)

#### ***请务必完整阅读此文档！！！！！***
#### ***如果您只是用户，请下载右边的Releases，千万不要直接下载代码库，那是不稳定的！！！***

## 概述

MulNX_CS2（Multiple Next eXtension For CS2）是一款致力于降低《Counter-Strike 2》赛事制作门槛的一站式免费工具包。
软件专注于运镜领域功能，为所有用户提供具有即时模式UI的、真正低门槛的、支持实时调试的、具有自动化功能的多功能OB软件。
MulNX合并实时与后期两大工作流，支持多种摄像机轨道类型，内置智能游戏状态分析系统，可实现事件触发的自动化操作。
实时GOTV和后期Demo制作均可使用MulNX完成，极大提升赛事制作效率与质量。

## 🚨 重要安全声明

**请在使用前仔细阅读并理解以下内容，您的使用行为将被视为接受全部风险。**

### 核心安全警告
- **唯一官方启动方式**：必须通过MulNX启动器（MulNX.exe）以管理员权限运行，并点击"打开CS2"按钮启动游戏，这会自动附加-insecure参数，以此保护您的账号
- **严禁手动注入**：禁止任何形式的自行DLL注入行为，否则可能触发VAC导致永久封禁
- **关闭第三方平台**：运行时请关闭所有第三方游戏平台，防止误封风险，第三方平台可能缺失-insecure识别

### 固有风险
- 任何第三方程序都存在被反作弊系统误判的潜在风险
- 游戏更新可能导致软件暂时不可用或不稳定

## ✨ 项目特色

- **UI驱动生产环境**：直观的可视化操作界面
- **轻量化设计**：绿色安装，仅占用不到10MB空间，支持绿色卸载
- **智能工作流**：工作区（比赛）-项目（地图）-解决方案（组合）-元素（轨道）的四层结构，资源可复用
- **扩展快捷键**：支持Ctrl+Shift-Alt+所有字母和F区键*1~255连击，自由绑定功能
- **实时预览**：可实时查看参数修改效果，预览轨道
- **自动化功能**：内置实时游戏状态分析，支持事件触发自动播放解决方案
- **智能磁盘读写**：高效的资源管理机制
- **Cfg管理系统**: 类似Git的Cfg控制，在工具目录和游戏目录之间移动Cfg

## 🛠️ 安装与使用

### 系统要求
- 《Counter-Strike 2》游戏
- **窗口模式**（非常重要！）
- 管理员权限运行

### 快速开始
1. 运行MulNX.exe（管理员权限）
2. 点击左上角菜单-控制-打开CS2
3. 首次使用需选择CS2安装目录

### 使用前准备
- 提前保存好游戏设置文件（MulNX会修复一些设置）
- 关闭所有第三方游戏平台

## 📷 摄像机系统使用指南

### 基本流程
1. 切换到摄像机系统界面
2. 进入或创建工作区（比赛）
3. 进入或创建项目（地图）
4. 在左侧导航栏选择元素，创建"自由摄像机轨道"

### 关键功能
- **放置机位**：按Caps Lock键单击放置，Delete键双击清空
- **动态调试**：支持实时预览和参数调整，按键输出轨道详细信息到调试器
- **解决方案**：元素的组合，支持并行播放模式和串行播放模式
- **调试器**：在总控台打开调试器，查看监控功能和调试信息

### 快捷键控制
- `Alt+P*1`：终止当前播放
- `Alt+M*1`：开关小地图
- 解决方案是最小的可以用快捷键直接调用（串行）的单位

## 🔧 技术架构

### 工作模式
- 通过创建远程线程以注入DLL
- 在DLL注入后，会进行系统的初始化
- 初始化阶段创建按键检测线程、消息总线线程、CS2交互线程等
- 初始化结束后，将创建一个用于Hook的线程，并启动第一次Hook
- 在切换分辨率后，Guard线程能够重新进行Hook

### 代码结构
- **MulNX.exe**：启动器，负责启动游戏并注入DLL
- **MulNXDLL.dll**：核心功能模块，包含UI、摄像机系统、状态分析等
- **第三方库**：ImGui、MinHook、pugixml、cs2dumper等

### 代码架构（DLL部分主要模块）
- **MulNXiCore**：主管理器，负责整体协调
- **CSController**：CS2交互控制器，逆向层关键模块，负责游戏内数据交互
- **AbstractLayer3D**：CS2三维抽象层，负责API封装与三维数据处理
- **CameraSystem**：摄像机系统核心，负责运镜资源管理与播放
- **MessageManager**：消息总线管理器，负责模块间通信
- **VirtualUser**：自动化功能核心，负责事件触发与自动操作
- **KeyTracker**：按键检测模块，负责快捷键管理与检测
- **Debugger**：调试器模块，便于开发与排查问题
- **HookManager**：Hook管理器，负责函数Hook操作，是系统关键模块
- **MiniMap**：小地图模块，提供实时地图显示功能
- **GlobalVars**：全局变量模块，存储全局状态与配置

### 核心特性
- 实时游戏状态分析
- 多线程优化设计
- 内核级内存保护

## 📄 许可证信息

### 第三方库
- ImGui
- MinHook
- pugixml
- cs2dumper
- **所有许可证原始文本位于dist下的Licenses中，请自行翻阅**
- ***警告：您在私下分发自己修改过的版本时，请务必也包含上述许可证，这非常重要！***


### MulNX许可证声明
***本许可证的最终解释权归开发者所有***

#### 许可证保留政策
- ✅ 可以不附加我的许可证
- ❌ 禁止修改我的许可证

#### 商业使用政策
- ✅ 允许自由商用，包括赛事直播、视频创作、教育培训等
- ❌ 禁止直接售卖本软件或修改版本
- ❌ 禁止将本软件作为付费服务的一部分销售

#### 源代码使用权限
- ✅ **允许下载后修改源代码供个人或组织内部使用**
- ✅ **允许在组织内部分发修改后的版本**
- ❌ **禁止公开分发修改后的源代码或编译版本**
- ❌ 不接受代码提交，但欢迎使用建议

#### 例外
- **如果您进行了文本的翻译工作且仅修改了文本内容，不涉及代码逻辑**
- ✅ **那么您有权以任何形式使用和分发该翻译版本，包括但不限于公开分发，商业使用，售卖，作为付费服务的一部分等**

#### 保护期政策
- 新许可证发布后，所有用户保留权利**60天**
- 保护期期间仍可获得最新版更新
- 计时按北京时间计算，以发布新许可的天数作为第一天

#### 一些不严谨的附加
- 首先这都不是强制要求或正式权力
- 尽量不要侵权，我说的是其它第三方的权力，这不在我的负责范围内，但我还是想提醒你
- 60天的保护期应该足够你的赛事结束
- 如果可以的话，也许可以帮我宣传一下？
- 还有，假如你真的发现有第三方提供我的软件，那你最好别用，鬼知道里面有没有被植入木马，请相信Github的本项目官方页面，这里是安全的
- 如果有什么疑问，或者想得到更多权力的话，可以联系我
- 我可能不会签署复杂协议，如果你和我谈，我应该会提供不追责协议，豁免你某些期限的所有违规行为，变相进行授权，这也是防止我被坑

#### 免责声明
- 本软件按"原样"提供，不承担任何使用责任
- 开发者不对因使用本软件产生的任何损失承担责任

## 构建指南

### 系统要求
- **推荐使用Windows11**

### 开发环境
- **必需**：Microsoft Visual Studio 2022 或更高版本
- **平台**：必须使用 **x64** 架构

### Visual Studio 必需组件
通过 Visual Studio Installer 安装以下组件：

- **工作负载**：
  - 使用 C++ 的桌面开发
- **单个组件**：
  - Windows 10 SDK (10.0.19041.0) 或更高版本
  - Windows 11 SDK（如果可用）

> **注意**：Windows SDK 已包含以下必要组件：
> - Direct3D 11 头文件和库
> - DirectXMath 数学库
> - 其他 DirectX 相关组件

### 获取源代码

#### 方法一：下载压缩包
1. 点击仓库页面的 "Code" 按钮
2. 选择 "Download ZIP"
3. 将压缩包解压到本地目录
4. **重要**：保持解压后的原始文件夹结构不变

#### 方法二：Git 克隆

### 项目结构验证

构建前必须确保**整个项目的相对目录结构**与仓库原始结构完全一致。

**重要说明**：
- 源代码中的所有 `#include` 指令均严格使用相对路径
- 任何文件夹结构变更都可能导致编译失败
- 请勿移动、重命名或删除任何必要的文件夹

### 构建步骤

#### 1. 打开项目
- 双击 `MulNX.sln` 文件
- 或通过 Visual Studio 菜单：文件 → 打开 → 项目/解决方案

#### 2. 配置解决方案
- **解决方案配置**：任意（Debug、Release 或其他）
- **解决方案平台**：**必须选择 x64**

> **注意**：x86 和 Any CPU 配置将无法正常工作

#### 3. 构建项目
- 在解决方案资源管理器中右键点击解决方案
- 选择 "生成解决方案" (Ctrl+Shift+B)
- 或通过菜单：生成 → 生成解决方案

#### 4. 构建输出
- 成功构建后，各个项目输出文件将位于对应的目录的：
  - Debug 配置：`x64/Debug/` 目录
  - Release 配置：`x64/Release/` 目录
- 可执行文件和相关依赖将放置在dist相应目录


## 📈 版本信息

### 版本号规则
- `X`：决定性更新，范式变化、具有里程碑意义（较大可能引发部分资源文件不兼容）
- `Y`：阶段性更新，新工具加入或旧功能改变（不包括旧功能完善）（可能引发部分资源文件不兼容）
- `Z`：维护性更新，Bug修复、优化、适配性更新、旧功能完善（几乎不可能发生任何不兼容）

**具体的版本信息请参见dist/MulNX文件夹下的版本文档.txt**

## 💡 使用建议

### 最佳实践
- 始终通过MulNX启动器打开游戏
- 关注版本更新及时适配新版游戏
- 使用前备份游戏设置文件

### 故障排除
- 如遇崩溃请检查是否关闭第三方平台
- 游戏更新后请等待软件适配
- 查看调试器输出信息排查问题

## 🤝 支持与交流

请在GitHub联系开发者获取


---

## 总结：安全使用准则

为确保您的账号安全与最佳体验，请您务必：

1. ✅ 关闭所有第三方平台
2. ✅ 始终使用MulNX启动器打开游戏  
3. ✅ 永不自行进行DLL注入
4. ✅ 关注版本更新，及时适配新版游戏

您对本软件的负责任使用，是保障其持续发展和整个社区安全的基础。

**祝您使用愉快！**
